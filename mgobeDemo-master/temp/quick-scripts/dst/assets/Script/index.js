
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/index.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '212b2TJV4JM+q/vTMTiRrNc', 'index');
// Script/index.js

"use strict";

// 导入 MGOBE.js
var MGOBE = require("MGOBE"); // 获取 Room、Listener 对象
// const { Room, Listener } = MGOBE;


var gameId = "obg-bq3n2v8a"; //替换为控制台上的 游戏 ID

var secretKey = "9d08a4a8f7edd8c6025e6ca63a6e9b0cd9878aeb"; //替换为控制台上的 游戏 Key

var serverUrl = "bq3n2v8a.wxlagame.com"; //替换为控制台上的 域名

if (CC_EDITOR) {
  if (!Editor.CocosService_mgobeDemo) {
    Editor.CocosService_mgobeDemo = true;
    Editor.log(Editor.lang === "zh" ? "欢迎使用腾讯云 MGOBE 小游戏联机对战引擎服务！" : "Welcome to Tencent Cloud MGOBE online game engine service!");
    Editor.log(Editor.lang === "zh" ? "这是一个简单的 MGOBE 示例 Demo，通过本示例您可以快速了解如何使用 MGOBE 来实现小游戏联机对战！" : "This is a simple MGOBE sample demo. Through this example, you can quickly learn how to use MGOBE to achieve online mini-games!");
  }

  if (gameId === "" || secretKey === "" || serverUrl === "") {
    Editor.log(Editor.lang === "zh" ? "您需要首先从右侧的服务面板开启 腾讯云MGOBE 服务，然后从 腾讯云MGOBE 服务面板前往腾讯云控制台获取 SDK 初始化参数并填写到示例代码中的相关位置，以使 Demo 能够运行。" : "You need to start the Tencent Cloud MGOBE service from the service panel on the right, then go to the Tencent Cloud console from the Tencent Cloud MGOBE service panel to get the SDK initialization parameters and fill in the relevant locations in the sample code to enable the Demo to run.");
    Editor.log(Editor.lang === "zh" ? "初始化参数所在位置：assets/Script/index.js 文件最顶部" : "Location of initialization parameters: the top of the assets/Script/index.js file");
  }
}

var gameInfo = {
  gameId: gameId,
  openId: "openid_test" + Math.random(),
  //自定义的用户唯一ID
  secretKey: secretKey
};
var config = {
  url: serverUrl,
  reconnectMaxTimes: 5,
  reconnectInterval: 1000,
  resendInterval: 1000,
  resendTimeout: 10000,
  cacertNativeUrl: ""
};
var playerInfo = {
  name: "Tom" + Math.random()
};
var matchRoomPara = {
  playerInfo: playerInfo,
  maxPlayers: 5,
  roomType: "1"
};
cc.Class({
  "extends": cc.Component,
  properties: {
    btnInit: {
      "default": null,
      type: cc.Button
    },
    btnJoin: {
      "default": null,
      type: cc.Button
    },
    labelJoin: {
      "default": null,
      type: cc.Label
    },
    btnSendMessage: {
      "default": null,
      type: cc.Button
    },
    btnFrameSync: {
      "default": null,
      type: cc.Button
    },
    btnSendToServer: {
      "default": null,
      type: cc.Button
    },
    labelFrameSync: {
      "default": null,
      type: cc.Label
    },
    logListView: {
      "default": null,
      type: cc.ScrollView
    },
    itemTemplate: {
      "default": null,
      type: cc.Node
    },
    cacertFile: {
      "default": null,
      type: cc.Asset
    },
    joined: false,
    synced: false,
    lang: "zh",
    room: null,
    logs: []
  },
  onLoad: function onLoad() {
    this.btnInit.interactable = true;
    this.btnJoin.interactable = false;
    this.btnSendMessage.interactable = false;
    this.btnFrameSync.interactable = false;
    this.btnSendToServer.interactable = false;
    this.lang = cc.sys.language;
    this.labelJoin.string = "加入房间";
    this.labelFrameSync.string = "开始帧同步";
    this.tempText = "";
    this.tempSize = 0;
    this.tempTop = 0;
    cc.debug.setDisplayStats(false);
  },
  onDestroy: function onDestroy() {},
  initMultiLang: function initMultiLang() {
    if (this.lang === cc.sys.LANGUAGE_CHINESE) {} else if (this.lang === cc.sys.LANGUAGE_ENGLISH) {}
  },
  init: function init() {
    var _self = this; // cc.log(MGOBE);


    MGOBE.DebuggerLog.enable = true; // 如果是原生平台，则加载 Cert 证书，否则会提示 WSS 错误

    if (cc.sys.isNative) config.cacertNativeUrl = cc.loader.md5Pipe ? cc.loader.md5Pipe.transformURL(this.cacertFile.nativeUrl) : this.cacertFile.nativeUrl;
    MGOBE.Listener.init(gameInfo, config, function (event) {
      console.log(event);

      if (event.code === 0) {
        _self.printLog("初始化成功");

        _self.room = new MGOBE.Room();
        MGOBE.Listener.add(_self.room);
        _self.room.onJoinRoom = _self.onJoinRoom.bind(_self);
        _self.room.onLeaveRoom = _self.onLeaveRoom.bind(_self);
        _self.room.onRecvFromClient = _self.onRecvFromClient.bind(_self);
        _self.room.onRecvFrame = _self.onRecvFrame.bind(_self);
        _self.room.onStartFrameSync = _self.onStartFrameSync.bind(_self);
        _self.room.onStopFrameSync = _self.onStopFrameSync.bind(_self);
        _self.room.onRecvFromGameSvr = _self.onRecvFromGameSvr.bind(_self);
        _self.btnJoin.interactable = true;
      } else {
        _self.printLog("初始化失败");
      }
    });
  },
  joinRoom: function joinRoom() {
    var _self = this;

    if (this.joined) {
      this.room.leaveRoom({}, function (event) {
        console.log(event);

        if (event.code === 0) {
          _self.printLog("退房成功", _self.room.roomInfo.id);

          _self.room.initRoom();

          _self.labelJoin.string = "加入房间";
          _self.btnSendMessage.interactable = false;
          _self.btnFrameSync.interactable = false;
          _self.btnSendToServer.interactable = false;
          _self.joined = false;
        }
      });
    } else {
      this.room.matchRoom(matchRoomPara, function (event) {
        console.log(event);

        if (event.code === 0) {
          _self.printLog("匹配成功");

          _self.labelJoin.string = "离开房间";
          _self.btnSendMessage.interactable = true;
          _self.btnFrameSync.interactable = true;
          _self.btnSendToServer.interactable = true;
          _self.joined = true;
        } else {
          _self.printLog("匹配失败");
        }
      });
    }
  },
  sendMessage: function sendMessage() {
    var sendToClientPara = {
      recvType: MGOBE.ENUM.RecvType.ROOM_ALL,
      recvPlayerList: [],
      msg: "hello" + Math.random()
    };
    this.room.sendToClient(sendToClientPara, function (event) {
      return console.log(event);
    });
  },
  frameSync: function frameSync() {
    var _self = this;

    if (this.synced) {
      this.room.stopFrameSync({}, function (event) {
        console.log(event);

        if (event.code === 0) {
          _self.printLog("停止帧同步成功");

          _self.labelFrameSync.string = "开始帧同步";
          _self.synced = false;
        }
      });
    } else {
      this.room.startFrameSync({}, function (event) {
        console.log(event);

        if (event.code === 0) {
          _self.printLog("开始帧同步成功，请到控制台查看具体帧同步信息");

          _self.labelFrameSync.string = "停止帧同步";
          _self.synced = true;
        }
      });
    }
  },
  sendToServer: function sendToServer() {
    var sendToGameServerPara = {
      data: {
        cmd: 1
      }
    };
    this.room.sendToGameSvr(sendToGameServerPara, function (event) {
      return console.log(event);
    });
  },
  sendFrame: function sendFrame() {
    this.room.sendFrame({
      data: {
        cmd: "xxxxxxxx" + Math.random(),
        data: "asdgjasdhgkasdf",
        id: "xxxxxxxx" + Math.random()
      }
    }, function (err) {//console.log("err", err);
    });
  },
  onJoinRoom: function onJoinRoom(event) {
    this.printLog("新玩家加入" + event.data.joinPlayerId);
    console.log("新玩家加入", event.data.joinPlayerId);
  },
  onLeaveRoom: function onLeaveRoom(event) {
    this.printLog("玩家退出" + event.data.leavePlayerId);
    console.log("玩家退出", event.data.leavePlayerId);
  },
  onRecvFromClient: function onRecvFromClient(event) {
    this.printLog("新消息" + event.data.msg);
    console.log("新消息", event.data.msg);
  },
  onRecvFrame: function onRecvFrame(event) {
    this.sendFrame();
    console.log("帧广播", event.data.frame);

    if (event.data.frame.items && event.data.frame.items.length > 0) {
      //this.printLog("帧广播" + JSON.stringify(event.data.frame.items));
      console.log("帧广播", event.data.frame);
    }
  },
  onStartFrameSync: function onStartFrameSync(event) {
    this.synced = true;
    this.labelFrameSync.string = "停止帧同步"; //this.printLog("开始帧同步\n");
  },
  onStopFrameSync: function onStopFrameSync(event) {
    this.synced = false;
    this.labelFrameSync.string = "开始帧同步"; //this.printLog("停止帧同步\n");
  },
  onRecvFromGameSvr: function onRecvFromGameSvr(event) {
    console.log("新自定义服务消息", event); //this.printLog("新自定义服务消息" + JSON.stringify(event));
  },
  printCode: function printCode(code) {
    this.printLog("   ");
    this.printLog("---------- Sample code start ----------");
    this.printLog(code);
    this.printLog("---------- Sample code end   ----------");
    this.printLog("   ");
  },
  printLog: function printLog(info) {
    if (this.tempSize > 100) {
      this.tempSize = 0;
      this.logListView.content.removeAllChildren(true);
    }

    this.tempSize = 0;
    this.tempText = this.tempText + info;
  },
  // called every frame
  update: function update(dt) {
    if (this.tempText.length <= 0) return;
    var item = cc.instantiate(this.itemTemplate);
    this.logListView.content.addChild(item);
    item.getComponent("Item").updateItem(this.tempText);
    var lab = item.getComponent(cc.Label);

    lab._forceUpdateRenderData(true);

    var layout = this.logListView.content.getComponent(cc.Layout);
    layout.updateLayout();
    this.logListView.scrollToBottom(1 / 60);
    this.tempText = "";
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0XFxpbmRleC5qcyJdLCJuYW1lcyI6WyJNR09CRSIsInJlcXVpcmUiLCJnYW1lSWQiLCJzZWNyZXRLZXkiLCJzZXJ2ZXJVcmwiLCJDQ19FRElUT1IiLCJFZGl0b3IiLCJDb2Nvc1NlcnZpY2VfbWdvYmVEZW1vIiwibG9nIiwibGFuZyIsImdhbWVJbmZvIiwib3BlbklkIiwiTWF0aCIsInJhbmRvbSIsImNvbmZpZyIsInVybCIsInJlY29ubmVjdE1heFRpbWVzIiwicmVjb25uZWN0SW50ZXJ2YWwiLCJyZXNlbmRJbnRlcnZhbCIsInJlc2VuZFRpbWVvdXQiLCJjYWNlcnROYXRpdmVVcmwiLCJwbGF5ZXJJbmZvIiwibmFtZSIsIm1hdGNoUm9vbVBhcmEiLCJtYXhQbGF5ZXJzIiwicm9vbVR5cGUiLCJjYyIsIkNsYXNzIiwiQ29tcG9uZW50IiwicHJvcGVydGllcyIsImJ0bkluaXQiLCJ0eXBlIiwiQnV0dG9uIiwiYnRuSm9pbiIsImxhYmVsSm9pbiIsIkxhYmVsIiwiYnRuU2VuZE1lc3NhZ2UiLCJidG5GcmFtZVN5bmMiLCJidG5TZW5kVG9TZXJ2ZXIiLCJsYWJlbEZyYW1lU3luYyIsImxvZ0xpc3RWaWV3IiwiU2Nyb2xsVmlldyIsIml0ZW1UZW1wbGF0ZSIsIk5vZGUiLCJjYWNlcnRGaWxlIiwiQXNzZXQiLCJqb2luZWQiLCJzeW5jZWQiLCJyb29tIiwibG9ncyIsIm9uTG9hZCIsImludGVyYWN0YWJsZSIsInN5cyIsImxhbmd1YWdlIiwic3RyaW5nIiwidGVtcFRleHQiLCJ0ZW1wU2l6ZSIsInRlbXBUb3AiLCJkZWJ1ZyIsInNldERpc3BsYXlTdGF0cyIsIm9uRGVzdHJveSIsImluaXRNdWx0aUxhbmciLCJMQU5HVUFHRV9DSElORVNFIiwiTEFOR1VBR0VfRU5HTElTSCIsImluaXQiLCJfc2VsZiIsIkRlYnVnZ2VyTG9nIiwiZW5hYmxlIiwiaXNOYXRpdmUiLCJsb2FkZXIiLCJtZDVQaXBlIiwidHJhbnNmb3JtVVJMIiwibmF0aXZlVXJsIiwiTGlzdGVuZXIiLCJldmVudCIsImNvbnNvbGUiLCJjb2RlIiwicHJpbnRMb2ciLCJSb29tIiwiYWRkIiwib25Kb2luUm9vbSIsImJpbmQiLCJvbkxlYXZlUm9vbSIsIm9uUmVjdkZyb21DbGllbnQiLCJvblJlY3ZGcmFtZSIsIm9uU3RhcnRGcmFtZVN5bmMiLCJvblN0b3BGcmFtZVN5bmMiLCJvblJlY3ZGcm9tR2FtZVN2ciIsImpvaW5Sb29tIiwibGVhdmVSb29tIiwicm9vbUluZm8iLCJpZCIsImluaXRSb29tIiwibWF0Y2hSb29tIiwic2VuZE1lc3NhZ2UiLCJzZW5kVG9DbGllbnRQYXJhIiwicmVjdlR5cGUiLCJFTlVNIiwiUmVjdlR5cGUiLCJST09NX0FMTCIsInJlY3ZQbGF5ZXJMaXN0IiwibXNnIiwic2VuZFRvQ2xpZW50IiwiZnJhbWVTeW5jIiwic3RvcEZyYW1lU3luYyIsInN0YXJ0RnJhbWVTeW5jIiwic2VuZFRvU2VydmVyIiwic2VuZFRvR2FtZVNlcnZlclBhcmEiLCJkYXRhIiwiY21kIiwic2VuZFRvR2FtZVN2ciIsInNlbmRGcmFtZSIsImVyciIsImpvaW5QbGF5ZXJJZCIsImxlYXZlUGxheWVySWQiLCJmcmFtZSIsIml0ZW1zIiwibGVuZ3RoIiwicHJpbnRDb2RlIiwiaW5mbyIsImNvbnRlbnQiLCJyZW1vdmVBbGxDaGlsZHJlbiIsInVwZGF0ZSIsImR0IiwiaXRlbSIsImluc3RhbnRpYXRlIiwiYWRkQ2hpbGQiLCJnZXRDb21wb25lbnQiLCJ1cGRhdGVJdGVtIiwibGFiIiwiX2ZvcmNlVXBkYXRlUmVuZGVyRGF0YSIsImxheW91dCIsIkxheW91dCIsInVwZGF0ZUxheW91dCIsInNjcm9sbFRvQm90dG9tIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUNBO0FBQ0EsSUFBTUEsS0FBSyxHQUFHQyxPQUFPLENBQUMsT0FBRCxDQUFyQixFQUNBO0FBQ0E7OztBQUVBLElBQU1DLE1BQU0sR0FBRyxjQUFmLEVBQStCOztBQUMvQixJQUFNQyxTQUFTLEdBQUcsMENB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QUUsZ0JBQVVDLEVBQVYsRUFBYztBQUNwQixRQUFJLEtBQUtwRSxRQUFMLENBQWM4RCxNQUFkLElBQXdCLENBQTVCLEVBQStCO0FBRS9CLFFBQUlPLElBQUksR0FBR2xHLEVBQUUsQ0FBQ21HLFdBQUgsQ0FBZSxLQUFLbkYsWUFBcEIsQ0FBWDtBQUVBLFNBQUtGLFdBQUwsQ0FBaUJnRixPQUFqQixDQUF5Qk0sUUFBekIsQ0FBa0NGLElBQWxDO0FBQ0FBLElBQUFBLElBQUksQ0FBQ0csWUFBTCxDQUFrQixNQUFsQixFQUEwQkMsVUFBMUIsQ0FBcUMsS0FBS3pFLFFBQTFDO0FBRUEsUUFBSTBFLEdBQUcsR0FBR0wsSUFBSSxDQUFDRyxZQUFMLENBQWtCckcsRUFBRSxDQUFDUyxLQUFyQixDQUFWOztBQUNBOEYsSUFBQUEsR0FBRyxDQUFDQyxzQkFBSixDQUEyQixJQUEzQjs7QUFFQSxRQUFJQyxNQUFNLEdBQUcsS0FBSzNGLFdBQUwsQ0FBaUJnRixPQUFqQixDQUF5Qk8sWUFBekIsQ0FBc0NyRyxFQUFFLENBQUMwRyxNQUF6QyxDQUFiO0FBQ0FELElBQUFBLE1BQU0sQ0FBQ0UsWUFBUDtBQUVBLFNBQUs3RixXQUFMLENBQWlCOEYsY0FBakIsQ0FBZ0MsSUFBSSxFQUFwQztBQUNBLFNBQUsvRSxRQUFMLEdBQWdCLEVBQWhCO0FBQ0Q7QUExUU0sQ0FBVCIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXG4vLyDlr7zlhaUgTUdPQkUuanNcbmNvbnN0IE1HT0JFID0gcmVxdWlyZShcIk1HT0JFXCIpO1xuLy8g6I635Y+WIFJvb23jgIFMaXN0ZW5lciDlr7nosaFcbi8vIGNvbnN0IHsgUm9vbSwgTGlzdGVuZXIgfSA9IE1HT0JFO1xuXG5jb25zdCBnYW1lSWQgPSBcIm9iZy1icTNuMnY4YVwiOyAvL+abv+aNouS4uuaOp+WItuWPsOS4iueahCDmuLjmiI8gSURcbmNvbnN0IHNlY3JldEtleSA9IFwiOWQwOGE0YThmN2VkZDhjNjAyNWU2Y2E2M2E2ZTliMGNkOTg3OGFlYlwiOyAvL+abv+aNouS4uuaOp+WItuWPsOS4iueahCDmuLjmiI8gS2V5XG5jb25zdCBzZXJ2ZXJVcmwgPSBcImJxM24ydjhhLnd4bGFnYW1lLmNvbVwiOyAvL+abv+aNouS4uuaOp+WItuWPsOS4iueahCDln5/lkI1cbmlmIChDQ19FRElUT1IpIHtcbiAgaWYgKCFFZGl0b3IuQ29jb3NTZXJ2aWNlX21nb2JlRGVtbykge1xuICAgIEVkaXRvci5Db2Nvc1NlcnZpY2VfbWdvYmVEZW1vID0gdHJ1ZTtcbiAgICBFZGl0b3IubG9nKFxuICAgICAgRWRpdG9yLmxhbmcgPT09IFwiemhcIlxuICAgICAgICA/IFwi5qyi6L+O5L2/55So6IW+6K6v5LqRIE1HT0JFIOWwj+a4uOaIj+iBlOacuuWvueaImOW8leaTjuacjeWKoe+8gVwiXG4gICAgICAgIDogXCJXZWxjb21lIHRvIFRlbmNlbnQgQ2xvdWQgTUdPQkUgb25saW5lIGdhbWUgZW5naW5lIHNlcnZpY2UhXCJcbiAgICApO1xuICAgIEVkaXRvci5sb2coXG4gICAgICBFZGl0b3IubGFuZyA9PT0gXCJ6aFwiXG4gICAgICAgID8gXCLov5nmmK/kuIDkuKrnroDljZXnmoQgTUdPQkUg56S65L6LIERlbW/vvIzpgJrov4fmnKznpLrkvovmgqjlj6/ku6Xlv6vpgJ/kuobop6PlpoLkvZXkvb/nlKggTUdPQkUg5p2l5a6e546w5bCP5ri45oiP6IGU5py65a+55oiY77yBXCJcbiAgICAgICAgOiBcIlRoaXMgaXMgYSBzaW1wbGUgTUdPQkUgc2FtcGxlIGRlbW8uIFRocm91Z2ggdGhpcyBleGFtcGxlLCB5b3UgY2FuIHF1aWNrbHkgbGVhcm4gaG93IHRvIHVzZSBNR09CRSB0byBhY2hpZXZlIG9ubGluZSBtaW5pLWdhbWVzIVwiXG4gICAgKTtcbiAgfVxuICBpZiAoZ2FtZUlkID09PSBcIlwiIHx8IHNlY3JldEtleSA9PT0gXCJcIiB8fCBzZXJ2ZXJVcmwgPT09IFwiXCIpIHtcbiAgICBFZGl0b3IubG9nKFxuICAgICAgRWRpdG9yLmxhbmcgPT09IFwiemhcIlxuICAgICAgICA/IFwi5oKo6ZyA6KaB6aaW5YWI5LuO5Y+z5L6n55qE5pyN5Yqh6Z2i5p2/5byA5ZCvIOiFvuiur+S6kU1HT0JFIOacjeWKoe+8jOeEtuWQjuS7jiDohb7orq/kupFNR09CRSDmnI3liqHpnaLmnb/liY3lvoDohb7orq/kupHmjqfliLblj7Dojrflj5YgU0RLIOWIneWni+WMluWPguaVsOW5tuWhq+WGmeWIsOekuuS+i+S7o+eggeS4reeahOebuOWFs+S9jee9ru+8jOS7peS9vyBEZW1vIOiDveWkn+i/kOihjOOAglwiXG4gICAgICAgIDogXCJZb3UgbmVlZCB0byBzdGFydCB0aGUgVGVuY2VudCBDbG91ZCBNR09CRSBzZXJ2aWNlIGZyb20gdGhlIHNlcnZpY2UgcGFuZWwgb24gdGhlIHJpZ2h0LCB0aGVuIGdvIHRvIHRoZSBUZW5jZW50IENsb3VkIGNvbnNvbGUgZnJvbSB0aGUgVGVuY2VudCBDbG91ZCBNR09CRSBzZXJ2aWNlIHBhbmVsIHRvIGdldCB0aGUgU0RLIGluaXRpYWxpemF0aW9uIHBhcmFtZXRlcnMgYW5kIGZpbGwgaW4gdGhlIHJlbGV2YW50IGxvY2F0aW9ucyBpbiB0aGUgc2FtcGxlIGNvZGUgdG8gZW5hYmxlIHRoZSBEZW1vIHRvIHJ1bi5cIlxuICAgICk7XG4gICAgRWRpdG9yLmxvZyhcbiAgICAgIEVkaXRvci5sYW5nID09PSBcInpoXCJcbiAgICAgICAgPyBcIuWIneWni+WMluWPguaVsOaJgOWcqOS9jee9ru+8mmFzc2V0cy9TY3JpcHQvaW5kZXguanMg5paH5Lu25pyA6aG26YOoXCJcbiAgICAgICAgOiBcIkxvY2F0aW9uIG9mIGluaXRpYWxpemF0aW9uIHBhcmFtZXRlcnM6IHRoZSB0b3Agb2YgdGhlIGFzc2V0cy9TY3JpcHQvaW5kZXguanMgZmlsZVwiXG4gICAgKTtcbiAgfVxuICBcbn1cblxuY29uc3QgZ2FtZUluZm8gPSB7XG4gIGdhbWVJZDogZ2FtZUlkLFxuICBvcGVuSWQ6IFwib3BlbmlkX3Rlc3RcIiArIE1hdGgucmFuZG9tKCksIC8v6Ieq5a6a5LmJ55qE55So5oi35ZSv5LiASURcbiAgc2VjcmV0S2V5OiBzZWNyZXRLZXlcbn07XG5jb25zdCBjb25maWcgPSB7XG4gIHVybDogc2VydmVyVXJsLFxuICByZWNvbm5lY3RNYXhUaW1lczogNSxcbiAgcmVjb25uZWN0SW50ZXJ2YWw6IDEwMDAsXG4gIHJlc2VuZEludGVydmFsOiAxMDAwLFxuICByZXNlbmRUaW1lb3V0OiAxMDAwMCxcbiAgY2FjZXJ0TmF0aXZlVXJsOiBcIlwiXG59O1xuXG5jb25zdCBwbGF5ZXJJbmZvID0ge1xuICBuYW1lOiBcIlRvbVwiICsgTWF0aC5yYW5kb20oKVxufTtcblxuY29uc3QgbWF0Y2hSb29tUGFyYSA9IHtcbiAgcGxheWVySW5mbyxcbiAgbWF4UGxheWVyczogNSxcbiAgcm9vbVR5cGU6IFwiMVwiXG59O1xuXG5jYy5DbGFzcyh7XG4gIGV4dGVuZHM6IGNjLkNvbXBvbmVudCxcblxuICBwcm9wZXJ0aWVzOiB7XG4gICAgYnRuSW5pdDoge1xuICAgICAgZGVmYXVsdDogbnVsbCxcbiAgICAgIHR5cGU6IGNjLkJ1dHRvblxuICAgIH0sXG4gICAgYnRuSm9pbjoge1xuICAgICAgZGVmYXVsdDogbnVsbCxcbiAgICAgIHR5cGU6IGNjLkJ1dHRvblxuICAgIH0sXG4gICAgbGFiZWxKb2luOiB7XG4gICAgICBkZWZhdWx0OiBudWxsLFxuICAgICAgdHlwZTogY2MuTGFiZWxcbiAgICB9LFxuICAgIGJ0blNlbmRNZXNzYWdlOiB7XG4gICAgICBkZWZhdWx0OiBudWxsLFxuICAgICAgdHlwZTogY2MuQnV0dG9uXG4gICAgfSxcbiAgICBidG5GcmFtZVN5bmM6IHtcbiAgICAgIGRlZmF1bHQ6IG51bGwsXG4gICAgICB0eXBlOiBjYy5CdXR0b25cbiAgICB9LFxuICAgIGJ0blNlbmRUb1NlcnZlcjoge1xuICAgICAgZGVmYXVsdDogbnVsbCxcbiAgICAgIHR5cGU6IGNjLkJ1dHRvblxuICAgIH0sXG4gICAgbGFiZWxGcmFtZVN5bmM6IHtcbiAgICAgIGRlZmF1bHQ6IG51bGwsXG4gICAgICB0eXBlOiBjYy5MYWJlbFxuICAgIH0sXG4gICAgbG9nTGlzdFZpZXc6IHtcbiAgICAgIGRlZmF1bHQ6IG51bGwsXG4gICAgICB0eXBlOiBjYy5TY3JvbGxWaWV3XG4gICAgfSxcbiAgICBpdGVtVGVtcGxhdGU6IHtcbiAgICAgIGRlZmF1bHQ6IG51bGwsXG4gICAgICB0eXBlOiBjYy5Ob2RlXG4gICAgfSxcbiAgICBjYWNlcnRGaWxlOiB7XG4gICAgICBkZWZhdWx0OiBudWxsLFxuICAgICAgdHlwZTogY2MuQXNzZXRcbiAgICB9LFxuICAgIGpvaW5lZDogZmFsc2UsXG4gICAgc3luY2VkOiBmYWxzZSxcbiAgICBsYW5nOiBcInpoXCIsXG4gICAgcm9vbTogbnVsbCxcbiAgICBsb2dzOiBbXVxuICB9LFxuXG4gIG9uTG9hZDogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuYnRuSW5pdC5pbnRlcmFjdGFibGUgPSB0cnVlO1xuICAgIHRoaXMuYnRuSm9pbi5pbnRlcmFjdGFibGUgPSBmYWxzZTtcbiAgICB0aGlzLmJ0blNlbmRNZXNzYWdlLmludGVyYWN0YWJsZSA9IGZhbHNlO1xuICAgIHRoaXMuYnRuRnJhbWVTeW5jLmludGVyYWN0YWJsZSA9IGZhbHNlO1xuICAgIHRoaXMuYnRuU2VuZFRvU2VydmVyLmludGVyYWN0YWJsZSA9IGZhbHNlO1xuICAgIHRoaXMubGFuZyA9IGNjLnN5cy5sYW5ndWFnZTtcbiAgICB0aGlzLmxhYmVsSm9pbi5zdHJpbmcgPSBcIuWKoOWFpeaIv+mXtFwiO1xuICAgIHRoaXMubGFiZWxGcmFtZVN5bmMuc3RyaW5nID0gXCLlvIDlp4vluKflkIzmraVcIjtcbiAgICB0aGlzLnRlbXBUZXh0ID0gXCJcIjtcbiAgICB0aGlzLnRlbXBTaXplID0gMDtcbiAgICB0aGlzLnRlbXBUb3AgPSAwO1xuICAgIGNjLmRlYnVnLnNldERpc3BsYXlTdGF0cyhmYWxzZSk7XG4gIH0sXG5cbiAgb25EZXN0cm95OiBmdW5jdGlvbiAoKSB7IH0sXG5cbiAgaW5pdE11bHRpTGFuZzogZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmxhbmcgPT09IGNjLnN5cy5MQU5HVUFHRV9DSElORVNFKSB7XG4gICAgfSBlbHNlIGlmICh0aGlzLmxhbmcgPT09IGNjLnN5cy5MQU5HVUFHRV9FTkdMSVNIKSB7XG4gICAgfVxuICB9LFxuXG4gIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBfc2VsZiA9IHRoaXM7XG4gICAgLy8gY2MubG9nKE1HT0JFKTtcbiAgICBNR09CRS5EZWJ1Z2dlckxvZy5lbmFibGUgPSB0cnVlO1xuICAgIC8vIOWmguaenOaYr+WOn+eUn+W5s+WPsO+8jOWImeWKoOi9vSBDZXJ0IOivgeS5pu+8jOWQpuWImeS8muaPkOekuiBXU1Mg6ZSZ6K+vXG4gICAgaWYgKGNjLnN5cy5pc05hdGl2ZSlcbiAgICAgIGNvbmZpZy5jYWNlcnROYXRpdmVVcmwgPSBjYy5sb2FkZXIubWQ1UGlwZVxuICAgICAgICA/IGNjLmxvYWRlci5tZDVQaXBlLnRyYW5zZm9ybVVSTCh0aGlzLmNhY2VydEZpbGUubmF0aXZlVXJsKVxuICAgICAgICA6IHRoaXMuY2FjZXJ0RmlsZS5uYXRpdmVVcmw7XG4gICAgTUdPQkUuTGlzdGVuZXIuaW5pdChnYW1lSW5mbywgY29uZmlnLCBldmVudCA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhldmVudCk7XG4gICAgICBpZiAoZXZlbnQuY29kZSA9PT0gMCkge1xuICAgICAgICBfc2VsZi5wcmludExvZyhcIuWIneWni+WMluaIkOWKn1wiKTtcbiAgICAgICAgX3NlbGYucm9vbSA9IG5ldyBNR09CRS5Sb29tKCk7XG4gICAgICAgIE1HT0JFLkxpc3RlbmVyLmFkZChfc2VsZi5yb29tKTtcbiAgICAgICAgX3NlbGYucm9vbS5vbkpvaW5Sb29tID0gX3NlbGYub25Kb2luUm9vbS5iaW5kKF9zZWxmKTtcbiAgICAgICAgX3NlbGYucm9vbS5vbkxlYXZlUm9vbSA9IF9zZWxmLm9uTGVhdmVSb29tLmJpbmQoX3NlbGYpO1xuICAgICAgICBfc2VsZi5yb29tLm9uUmVjdkZyb21DbGllbnQgPSBfc2VsZi5vblJlY3ZGcm9tQ2xpZW50LmJpbmQoX3NlbGYpO1xuICAgICAgICBfc2VsZi5yb29tLm9uUmVjdkZyYW1lID0gX3NlbGYub25SZWN2RnJhbWUuYmluZChfc2VsZik7XG4gICAgICAgIF9zZWxmLnJvb20ub25TdGFydEZyYW1lU3luYyA9IF9zZWxmLm9uU3RhcnRGcmFtZVN5bmMuYmluZChfc2VsZik7XG4gICAgICAgIF9zZWxmLnJvb20ub25TdG9wRnJhbWVTeW5jID0gX3NlbGYub25TdG9wRnJhbWVTeW5jLmJpbmQoX3NlbGYpO1xuICAgICAgICBfc2VsZi5yb29tLm9uUmVjdkZyb21HYW1lU3ZyID0gX3NlbGYub25SZWN2RnJvbUdhbWVTdnIuYmluZChfc2VsZik7XG4gICAgICAgIF9zZWxmLmJ0bkpvaW4uaW50ZXJhY3RhYmxlID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9zZWxmLnByaW50TG9nKFwi5Yid5aeL5YyW5aSx6LSlXCIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIGpvaW5Sb29tOiBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgX3NlbGYgPSB0aGlzO1xuICAgIGlmICh0aGlzLmpvaW5lZCkge1xuICAgICAgdGhpcy5yb29tLmxlYXZlUm9vbSh7fSwgZXZlbnQgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhldmVudCk7XG4gICAgICAgIGlmIChldmVudC5jb2RlID09PSAwKSB7XG4gICAgICAgICAgX3NlbGYucHJpbnRMb2coXCLpgIDmiL/miJDlip9cIiwgX3NlbGYucm9vbS5yb29tSW5mby5pZCk7XG4gICAgICAgICAgX3NlbGYucm9vbS5pbml0Um9vbSgpO1xuICAgICAgICAgIF9zZWxmLmxhYmVsSm9pbi5zdHJpbmcgPSBcIuWKoOWFpeaIv+mXtFwiO1xuICAgICAgICAgIF9zZWxmLmJ0blNlbmRNZXNzYWdlLmludGVyYWN0YWJsZSA9IGZhbHNlO1xuICAgICAgICAgIF9zZWxmLmJ0bkZyYW1lU3luYy5pbnRlcmFjdGFibGUgPSBmYWxzZTtcbiAgICAgICAgICBfc2VsZi5idG5TZW5kVG9TZXJ2ZXIuaW50ZXJhY3RhYmxlID0gZmFsc2U7XG4gICAgICAgICAgX3NlbGYuam9pbmVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJvb20ubWF0Y2hSb29tKG1hdGNoUm9vbVBhcmEsIGV2ZW50ID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXZlbnQpO1xuICAgICAgICBpZiAoZXZlbnQuY29kZSA9PT0gMCkge1xuICAgICAgICAgIF9zZWxmLnByaW50TG9nKFwi5Yy56YWN5oiQ5YqfXCIpO1xuICAgICAgICAgIF9zZWxmLmxhYmVsSm9pbi5zdHJpbmcgPSBcIuemu+W8gOaIv+mXtFwiO1xuICAgICAgICAgIF9zZWxmLmJ0blNlbmRNZXNzYWdlLmludGVyYWN0YWJsZSA9IHRydWU7XG4gICAgICAgICAgX3NlbGYuYnRuRnJhbWVTeW5jLmludGVyYWN0YWJsZSA9IHRydWU7XG4gICAgICAgICAgX3NlbGYuYnRuU2VuZFRvU2VydmVyLmludGVyYWN0YWJsZSA9IHRydWU7XG4gICAgICAgICAgX3NlbGYuam9pbmVkID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfc2VsZi5wcmludExvZyhcIuWMuemFjeWksei0pVwiKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuXG4gIHNlbmRNZXNzYWdlOiBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3Qgc2VuZFRvQ2xpZW50UGFyYSA9IHtcbiAgICAgIHJlY3ZUeXBlOiBNR09CRS5FTlVNLlJlY3ZUeXBlLlJPT01fQUxMLFxuICAgICAgcmVjdlBsYXllckxpc3Q6IFtdLFxuICAgICAgbXNnOiBcImhlbGxvXCIgKyBNYXRoLnJhbmRvbSgpXG4gICAgfTtcbiAgICB0aGlzLnJvb20uc2VuZFRvQ2xpZW50KHNlbmRUb0NsaWVudFBhcmEsIGV2ZW50ID0+IGNvbnNvbGUubG9nKGV2ZW50KSk7XG4gIH0sXG5cbiAgZnJhbWVTeW5jOiBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgX3NlbGYgPSB0aGlzO1xuICAgIGlmICh0aGlzLnN5bmNlZCkge1xuICAgICAgdGhpcy5yb29tLnN0b3BGcmFtZVN5bmMoe30sIGV2ZW50ID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXZlbnQpO1xuICAgICAgICBpZiAoZXZlbnQuY29kZSA9PT0gMCkge1xuICAgICAgICAgIF9zZWxmLnByaW50TG9nKFwi5YGc5q2i5bin5ZCM5q2l5oiQ5YqfXCIpO1xuICAgICAgICAgIF9zZWxmLmxhYmVsRnJhbWVTeW5jLnN0cmluZyA9IFwi5byA5aeL5bin5ZCM5q2lXCI7XG4gICAgICAgICAgX3NlbGYuc3luY2VkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJvb20uc3RhcnRGcmFtZVN5bmMoe30sIGV2ZW50ID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXZlbnQpO1xuICAgICAgICBpZiAoZXZlbnQuY29kZSA9PT0gMCkge1xuICAgICAgICAgIF9zZWxmLnByaW50TG9nKFwi5byA5aeL5bin5ZCM5q2l5oiQ5Yqf77yM6K+35Yiw5o6n5Yi25Y+w5p+l55yL5YW35L2T5bin5ZCM5q2l5L+h5oGvXCIpO1xuICAgICAgICAgIF9zZWxmLmxhYmVsRnJhbWVTeW5jLnN0cmluZyA9IFwi5YGc5q2i5bin5ZCM5q2lXCI7XG4gICAgICAgICAgX3NlbGYuc3luY2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuXG4gIHNlbmRUb1NlcnZlcjogZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHNlbmRUb0dhbWVTZXJ2ZXJQYXJhID0ge1xuICAgICAgZGF0YToge1xuICAgICAgICBjbWQ6IDFcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMucm9vbS5zZW5kVG9HYW1lU3ZyKHNlbmRUb0dhbWVTZXJ2ZXJQYXJhLCBldmVudCA9PiBjb25zb2xlLmxvZyhldmVudCkpO1xuICB9LFxuXG4gIHNlbmRGcmFtZTogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMucm9vbS5zZW5kRnJhbWUoXG4gICAgICB7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBjbWQ6IFwieHh4eHh4eHhcIiArIE1hdGgucmFuZG9tKCksXG4gICAgICAgICAgZGF0YTogXCJhc2RnamFzZGhna2FzZGZcIixcbiAgICAgICAgICBpZDogXCJ4eHh4eHh4eFwiICsgTWF0aC5yYW5kb20oKVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZXJyID0+IHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcImVyclwiLCBlcnIpO1xuICAgICAgfVxuICAgICk7XG4gIH0sXG5cbiAgb25Kb2luUm9vbTogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgdGhpcy5wcmludExvZyhcIuaWsOeOqeWutuWKoOWFpVwiICsgZXZlbnQuZGF0YS5qb2luUGxheWVySWQpO1xuICAgIGNvbnNvbGUubG9nKFwi5paw546p5a625Yqg5YWlXCIsIGV2ZW50LmRhdGEuam9pblBsYXllcklkKTtcbiAgfSxcblxuICBvbkxlYXZlUm9vbTogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgdGhpcy5wcmludExvZyhcIueOqeWutumAgOWHulwiICsgZXZlbnQuZGF0YS5sZWF2ZVBsYXllcklkKTtcbiAgICBjb25zb2xlLmxvZyhcIueOqeWutumAgOWHulwiLCBldmVudC5kYXRhLmxlYXZlUGxheWVySWQpO1xuICB9LFxuXG4gIG9uUmVjdkZyb21DbGllbnQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIHRoaXMucHJpbnRMb2coXCLmlrDmtojmga9cIiArIGV2ZW50LmRhdGEubXNnKTtcbiAgICBjb25zb2xlLmxvZyhcIuaWsOa2iOaBr1wiLCBldmVudC5kYXRhLm1zZyk7XG4gIH0sXG5cbiAgb25SZWN2RnJhbWU6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIHRoaXMuc2VuZEZyYW1lKCk7XG4gICAgY29uc29sZS5sb2coXCLluKflub/mkq1cIiwgZXZlbnQuZGF0YS5mcmFtZSk7XG4gICAgaWYgKGV2ZW50LmRhdGEuZnJhbWUuaXRlbXMgJiYgZXZlbnQuZGF0YS5mcmFtZS5pdGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICAvL3RoaXMucHJpbnRMb2coXCLluKflub/mkq1cIiArIEpTT04uc3RyaW5naWZ5KGV2ZW50LmRhdGEuZnJhbWUuaXRlbXMpKTtcbiAgICAgIGNvbnNvbGUubG9nKFwi5bin5bm/5pKtXCIsIGV2ZW50LmRhdGEuZnJhbWUpO1xuICAgIH1cbiAgfSxcblxuICBvblN0YXJ0RnJhbWVTeW5jOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICB0aGlzLnN5bmNlZCA9IHRydWU7XG4gICAgdGhpcy5sYWJlbEZyYW1lU3luYy5zdHJpbmcgPSBcIuWBnOatouW4p+WQjOatpVwiO1xuICAgIC8vdGhpcy5wcmludExvZyhcIuW8gOWni+W4p+WQjOatpVxcblwiKTtcbiAgfSxcblxuICBvblN0b3BGcmFtZVN5bmM6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIHRoaXMuc3luY2VkID0gZmFsc2U7XG4gICAgdGhpcy5sYWJlbEZyYW1lU3luYy5zdHJpbmcgPSBcIuW8gOWni+W4p+WQjOatpVwiO1xuICAgIC8vdGhpcy5wcmludExvZyhcIuWBnOatouW4p+WQjOatpVxcblwiKTtcbiAgfSxcblxuICBvblJlY3ZGcm9tR2FtZVN2cjogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgY29uc29sZS5sb2coXCLmlrDoh6rlrprkuYnmnI3liqHmtojmga9cIiwgZXZlbnQpO1xuICAgIC8vdGhpcy5wcmludExvZyhcIuaWsOiHquWumuS5ieacjeWKoea2iOaBr1wiICsgSlNPTi5zdHJpbmdpZnkoZXZlbnQpKTtcbiAgfSxcblxuICBwcmludENvZGU6IGZ1bmN0aW9uIChjb2RlKSB7XG4gICAgdGhpcy5wcmludExvZyhcIiAgIFwiKTtcbiAgICB0aGlzLnByaW50TG9nKFwiLS0tLS0tLS0tLSBTYW1wbGUgY29kZSBzdGFydCAtLS0tLS0tLS0tXCIpO1xuICAgIHRoaXMucHJpbnRMb2coY29kZSk7XG4gICAgdGhpcy5wcmludExvZyhcIi0tLS0tLS0tLS0gU2FtcGxlIGNvZGUgZW5kICAgLS0tLS0tLS0tLVwiKTtcbiAgICB0aGlzLnByaW50TG9nKFwiICAgXCIpO1xuICB9LFxuXG4gIHByaW50TG9nOiBmdW5jdGlvbiAoaW5mbykge1xuICAgIGlmICh0aGlzLnRlbXBTaXplID4gMTAwKSB7XG4gICAgICB0aGlzLnRlbXBTaXplID0gMDtcbiAgICAgIHRoaXMubG9nTGlzdFZpZXcuY29udGVudC5yZW1vdmVBbGxDaGlsZHJlbih0cnVlKTtcbiAgICB9XG4gICAgdGhpcy50ZW1wU2l6ZSA9IDA7XG4gICAgdGhpcy50ZW1wVGV4dCA9IHRoaXMudGVtcFRleHQgKyBpbmZvO1xuICB9LFxuXG4gIC8vIGNhbGxlZCBldmVyeSBmcmFtZVxuICB1cGRhdGU6IGZ1bmN0aW9uIChkdCkge1xuICAgIGlmICh0aGlzLnRlbXBUZXh0Lmxlbmd0aCA8PSAwKSByZXR1cm47XG5cbiAgICB2YXIgaXRlbSA9IGNjLmluc3RhbnRpYXRlKHRoaXMuaXRlbVRlbXBsYXRlKTtcblxuICAgIHRoaXMubG9nTGlzdFZpZXcuY29udGVudC5hZGRDaGlsZChpdGVtKTtcbiAgICBpdGVtLmdldENvbXBvbmVudChcIkl0ZW1cIikudXBkYXRlSXRlbSh0aGlzLnRlbXBUZXh0KTtcblxuICAgIHZhciBsYWIgPSBpdGVtLmdldENvbXBvbmVudChjYy5MYWJlbCk7XG4gICAgbGFiLl9mb3JjZVVwZGF0ZVJlbmRlckRhdGEodHJ1ZSk7XG5cbiAgICB2YXIgbGF5b3V0ID0gdGhpcy5sb2dMaXN0Vmlldy5jb250ZW50LmdldENvbXBvbmVudChjYy5MYXlvdXQpO1xuICAgIGxheW91dC51cGRhdGVMYXlvdXQoKTtcblxuICAgIHRoaXMubG9nTGlzdFZpZXcuc2Nyb2xsVG9Cb3R0b20oMSAvIDYwKTtcbiAgICB0aGlzLnRlbXBUZXh0ID0gXCJcIjtcbiAgfVxufSk7XG4iXX0=